{"version":3,"sources":["services/auth.js","components/Navbar.js","components/Signup.js","components/Login.js","components/UserList.js","components/UserInfo.js","components/LeftSidebar.js","components/SearchBar.js","components/BookCard.js","components/FollowerCard.js","components/SearchResults.js","components/Dashboard.js","components/SuggestedBooks.js","components/Users.js","components/SuggestedUsers.js","components/RandomBooks.js","components/RightSidebar.js","components/LoggedIn.js","App.js","serviceWorker.js","index.js"],"names":["signup","username","password","axios","post","then","response","data","catch","err","login","handleLogout","props","delete","setUser","Navbar","className","src","alt","user","to","onClick","Signup","state","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","history","push","onSubmit","this","htmlFor","type","onChange","id","placeholder","href","Component","Login","console","log","valeu","UserList","activeLists","activeEditLists","activeSearch","addListQuery","clickListItem","onClickListItem","innerHTML","getAttribute","clickList","checkActive","includes","checkEditActive","newActiveLists","filter","list","clickEditList","onClickDelFromList","onDeleteBookFromList","onBtnSearch","onInputChange","onClickAddList","onAddList","document","getElementById","onClickDeleteList","onDeleteList","listsOfUser","lists","map","key","special","book","isbn","title","books","UserInfo","onClickFollowing","toString","avatar","following","length","Date","createdAt","toDateString","slice","LeftSidebar","SearchBar","searchQuery","inputChange","inputClick","query","replace","updateSearchResults","charAt","get","bookJSON","error","booksJSON","onlyFiveISBN","docs","find","number","BookCard","activeAdd","activeShare","comment","friend","onClickAdd","onClickSave","onSaveToList","onClickShare","onCommentInputChange","onFriendInputChange","onClickSend","onClickShareBook","userLists","undefined","cover","medium","suggestedBy","comments","by","year","url","required","FollowerCard","onClickRemoveFollower","follower","SearchResults","searchResults","searchResultsList","Dashboard","SuggestedBooks","index","componentDidMount","acceptSuggestion","rejectSuggestion","slideBack","slideForward","suggestedList","suggestedBook","suggestedby","Users","users","loggedIn","followUser","userId","res","usersList","_id","toLowerCase","toUpperCase","SuggestedUsers","setQuery","triggerSetQuery","RandomBooks","refreshRandomList","split","randomList","RightSidebar","LoggedIn","booksFromFollowersList","getListsFromDb","getSuggestedBooksFromDb","getRandomList","componentWillReceiveProps","nextProps","JSON","stringify","bookTitle","randomJSON","listOfBooks","booksFromFollowers","listDataOfUser","newList","listDataOfSuggestedBooks","coverCheck","followersFromDb","listName","bookToList","flag","bookFromDb","onShareBook","delList","followerName","App","exact","path","render","Boolean","window","location","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.63403536.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst signup = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/signup\", { username, password })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst login = (username, password) => {\r\n  return axios\r\n    .post(\"/api/auth/login\", { username, password })\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nconst logout = (username, password) => {\r\n  return axios\r\n    .delete(\"/api/auth/logout\")\r\n    .then((response) => {\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      return err.response.data;\r\n    });\r\n};\r\n\r\nexport { signup, login, logout };\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout } from \"../services/auth\";\r\nimport \"../components/Navbar.css\";\r\n\r\nconst handleLogout = (props) => {\r\n  logout().then(() => {\r\n    props.setUser(null);\r\n  });\r\n};\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <nav className=\"navbar-dummy\">\r\n      <div className=\"navbar-logo\">\r\n        <div className=\"logo-home\">\r\n          <img src=\"/images/book-icon-ed.png\" alt=\"logo-bookify\" />\r\n          <p>Bookify</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"navbar-panel\">\r\n        {props.user && <p>Hello {props.user.username}</p>}\r\n        {props.user ? (\r\n          <>\r\n            <Link to=\"/\">Home</Link>\r\n            <Link to=\"/\" onClick={() => handleLogout(props)}>\r\n              Logout\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>{false}</>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { Component } from \"react\";\r\nimport { signup } from \"../services/auth\";\r\nimport \"./Signup.css\";\r\n\r\nclass Signup extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n\r\n    signup(username, password).then((data) => {\r\n      if (data.message) {\r\n        this.setState({\r\n          message: data.message,\r\n          username: \"\",\r\n          password: \"\",\r\n        });\r\n      } else {\r\n        // user gets logged in\r\n        this.props.setUser(data);\r\n        //this.props.history.push(\"/profile\");\r\n        this.props.history.push(\"/\");\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"signup-main-section\">\r\n        <div className=\"text-signup\">\r\n          <p>Create an account and start sharing books</p>\r\n        </div>\r\n        <div className=\"signup-section\">\r\n          <h2 className=\"title\">Signup</h2>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <label htmlFor=\"username\" />\r\n              <input\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={this.state.username}\r\n                onChange={this.handleChange}\r\n                id=\"username\"\r\n                placeholder=\"Username\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" />\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={this.state.password}\r\n                onChange={this.handleChange}\r\n                id=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </div>\r\n            {this.state.message && <div>{this.state.message}</div>}\r\n            <br />\r\n            <button type=\"submit\" className=\"signup-btn\">\r\n              Signup\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <p className=\"text-color\">\r\n          Already have an account? <a href=\"/\">Login</a>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;\r\n","import React, { Component } from \"react\";\r\nimport { login } from \"../services/auth\";\r\nimport \"./Login.css\";\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    message: \"\",\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const { username, password } = this.state;\r\n\r\n    login(username, password).then((data) => {\r\n      if (data.message) {\r\n        this.setState({\r\n          message: data.message,\r\n          username: \"\",\r\n          password: \"\",\r\n        });\r\n      } else {\r\n        console.log(this, this.props);\r\n        this.props.setUser(data);\r\n        //this.props.history.push(\"/profile\");\r\n        this.props.history.push(\"/\");\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-main-section\">\r\n        <div>\r\n          <p>\r\n            Keep track of the books you've read and share it with your friends.\r\n          </p>\r\n        </div>\r\n        <div className=\"login-section\">\r\n          <h2 className=\"title\">Login</h2>\r\n          <div>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div>\r\n                <label htmlFor=\"username\" />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.state.username}\r\n                  onChange={this.handleChange}\r\n                  id=\"username\"\r\n                  placeholder=\"Username\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"password\" />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  valeu={this.state.password}\r\n                  onChange={this.handleChange}\r\n                  id=\"password\"\r\n                  placeholder=\"Password\"\r\n                />\r\n              </div>\r\n              {this.state.message && <div>{this.state.message}</div>}\r\n              <br />\r\n              <button type=\"submit\" className=\"login-btn\">\r\n                Login\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <p className=\"text-color\">\r\n          Don't have an account? <a href=\"signup\">Signup</a>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/UserList.css\";\r\n\r\nclass UserList extends Component {\r\n  state = {\r\n    activeLists: [],\r\n    activeEditLists: [],\r\n    activeSearch: false,\r\n    addListQuery: \"\",\r\n  };\r\n\r\n  clickListItem = (event) => {\r\n    this.props.onClickListItem(\r\n      event.target.innerHTML,\r\n      event.target.getAttribute(\"list\")\r\n    );\r\n  };\r\n\r\n  // list should toggle between hiding/showing list books\r\n  // add/remove toggled lists to state 'activeLists' for conditional rendering\r\n  clickList = (event) => {\r\n    //console.log(this.props.lists);\r\n    // .getAttribute(\"name\") here instead of .name!\r\n    const checkActive = this.state.activeLists.includes(\r\n      event.target.getAttribute(\"name\")\r\n    );\r\n\r\n    const checkEditActive = this.state.activeEditLists.includes(\r\n      event.target.getAttribute(\"name\")\r\n    );\r\n\r\n    // only trigger drop-down close if edit-mode is deactivated\r\n    // without 'checkEditActive' -> edge case: drop-down would close if user clicked in this order: 1. EDIT, 2. LIST, 3. EDIT\r\n    // whereas drop-down would not close on 2. but activeLists gets updated anyway\r\n    if (checkActive === true && checkEditActive === false) {\r\n      const newActiveLists = this.state.activeLists.filter(\r\n        (list) => list !== event.target.getAttribute(\"name\")\r\n      );\r\n      this.setState({ activeLists: newActiveLists });\r\n    } else {\r\n      this.setState({\r\n        activeLists: [\r\n          ...this.state.activeLists,\r\n          event.target.getAttribute(\"name\"),\r\n        ],\r\n      });\r\n    }\r\n  };\r\n\r\n  clickEditList = (event) => {\r\n    const checkActive = this.state.activeEditLists.includes(\r\n      event.target.getAttribute(\"name\")\r\n    );\r\n\r\n    if (checkActive === true) {\r\n      const newActiveLists = this.state.activeEditLists.filter(\r\n        (list) => list !== event.target.getAttribute(\"name\")\r\n      );\r\n      this.setState({ activeEditLists: newActiveLists });\r\n    } else {\r\n      this.setState({\r\n        activeEditLists: [\r\n          ...this.state.activeEditLists,\r\n          event.target.getAttribute(\"name\"),\r\n        ],\r\n      });\r\n    }\r\n  };\r\n\r\n  onClickDelFromList = (event) => {\r\n    console.log(event.target.getAttribute(\"book\"));\r\n    console.log(event.target.getAttribute(\"list\"));\r\n    this.props.onDeleteBookFromList(\r\n      event.target.getAttribute(\"book\"),\r\n      event.target.getAttribute(\"list\")\r\n    );\r\n  };\r\n\r\n  onBtnSearch = () => {\r\n    console.log(\"search button clicked\");\r\n    this.setState({ activeSearch: !this.state.activeSearch });\r\n  };\r\n\r\n  onInputChange = (event) => {\r\n    console.log(event.target.value);\r\n    this.setState({ addListQuery: event.target.value });\r\n  };\r\n\r\n  onClickAddList = () => {\r\n    this.props.onAddList(this.state.addListQuery);\r\n    document.getElementById(\"inputAddList\").value = \"\";\r\n    this.setState({ addListQuery: \"\" });\r\n  };\r\n\r\n  onClickDeleteList = (event) => {\r\n    console.log(\"Delete: \", event.target.getAttribute(\"name\"));\r\n    this.props.onDeleteList(event.target.getAttribute(\"name\"));\r\n    const newActiveLists = this.state.activeEditLists.filter(\r\n      (list) => list !== event.target.getAttribute(\"name\")\r\n    );\r\n    this.setState({ activeEditLists: newActiveLists });\r\n  };\r\n\r\n  render() {\r\n    const listsOfUser = this.props.lists.map((list) => {\r\n      return (\r\n        <div key={list.name} className=\"list-group\">\r\n          <div className=\"list\">\r\n            <div\r\n              className=\"arrowListName\"\r\n              onClick={this.clickList}\r\n              name={list.name}\r\n            >\r\n              {this.state.activeLists.includes(list.name) ||\r\n              this.state.activeEditLists.includes(list.name) ? (\r\n                <i\r\n                  className=\"arrow down\"\r\n                  onClick={this.clickList}\r\n                  name={list.name}\r\n                ></i>\r\n              ) : (\r\n                <i\r\n                  className=\"arrow right\"\r\n                  onClick={this.clickList}\r\n                  name={list.name}\r\n                ></i>\r\n              )}\r\n\r\n              <div\r\n                className=\"listNameText\"\r\n                key={list.name}\r\n                onClick={this.clickList}\r\n                name={list.name}\r\n              >\r\n                {list.name === \"Special\" ? (\r\n                  <div\r\n                    className=\"specialListName\"\r\n                    onClick={this.clickList}\r\n                    name={list.name}\r\n                  >\r\n                    <img\r\n                      src=\"/images/interface.png\"\r\n                      alt=\"\"\r\n                      onClick={this.clickList}\r\n                      name={list.name}\r\n                    />\r\n                    {list.name}\r\n                  </div>\r\n                ) : (\r\n                  list.name\r\n                )}\r\n              </div>\r\n\r\n              {this.state.activeLists.includes(list.name) ||\r\n              this.state.activeEditLists.includes(list.name) ? (\r\n                <img\r\n                  src=\"/images/edit-list.png\"\r\n                  className=\"list-edit\"\r\n                  alt=\"icon-list-edit\"\r\n                  onClick={this.clickEditList}\r\n                  name={list.name}\r\n                />\r\n              ) : null}\r\n            </div>\r\n\r\n            {this.state.activeLists.includes(list.name) ||\r\n            this.state.activeEditLists.includes(list.name) ? (\r\n              <ul>\r\n                {list.special.map((book) => {\r\n                  return (\r\n                    <div key={book.isbn}>\r\n                      <div className=\"book-group\">\r\n                        <li\r\n                          key={book.isbn}\r\n                          list={list.name}\r\n                          onClick={this.clickListItem}\r\n                        >\r\n                          {book.title}\r\n                        </li>\r\n                        {this.state.activeEditLists.includes(list.name) ? (\r\n                          <img\r\n                            src=\"/images/delete-icon.png\"\r\n                            className=\"deleteBookFromList\"\r\n                            onClick={this.onClickDelFromList}\r\n                            book={book.title}\r\n                            list={list.name}\r\n                            alt=\"delete-icon\"\r\n                          />\r\n                        ) : null}\r\n                      </div>\r\n\r\n                      <div className=\"separator-wrapper\">\r\n                        <div className=\"list-item-separator\"></div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n                {list.books.map((book) => {\r\n                  return (\r\n                    <div key={book.isbn}>\r\n                      <div className=\"book-group\">\r\n                        <li\r\n                          key={book.isbn}\r\n                          list={list.name}\r\n                          onClick={this.clickListItem}\r\n                        >\r\n                          {book.title}\r\n                        </li>\r\n                        {this.state.activeEditLists.includes(list.name) ? (\r\n                          <img\r\n                            src=\"/images/delete-icon.png\"\r\n                            className=\"deleteBookFromList\"\r\n                            onClick={this.onClickDelFromList}\r\n                            book={book.title}\r\n                            list={list.name}\r\n                            alt=\"delete-icon\"\r\n                          />\r\n                        ) : null}\r\n                      </div>\r\n\r\n                      <div className=\"separator-wrapper\">\r\n                        <div className=\"list-item-separator\"></div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n                {this.state.activeEditLists.includes(list.name) ? (\r\n                  <div className=\"deleteList\">\r\n                    <i\r\n                      className=\"delButton\"\r\n                      onClick={this.onClickDeleteList}\r\n                      name={list.name}\r\n                    >\r\n                      Delete List\r\n                    </i>\r\n                  </div>\r\n                ) : null}\r\n              </ul>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"list-container\">\r\n        <div className=\"lists-only\">{listsOfUser}</div>\r\n        <div className=\"search-only\">\r\n          {this.state.addListQuery !== \"\" ? (\r\n            <img\r\n              src=\"/images/plus-icon.png\"\r\n              className=\"btnSearch\"\r\n              alt=\"plus-icon\"\r\n              onClick={this.onClickAddList}\r\n            />\r\n          ) : (\r\n            <img\r\n              src=\"/images/plus-icon.png\"\r\n              className=\"btnSearch\"\r\n              alt=\"plus-icon\"\r\n              onClick={this.onBtnSearch}\r\n            />\r\n          )}\r\n\r\n          {this.state.activeSearch === true ? (\r\n            <input\r\n              id=\"inputAddList\"\r\n              type=\"text\"\r\n              className=\"inputAddList\"\r\n              name=\"addList\"\r\n              placeholder=\"\"\r\n              onChange={this.onInputChange}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserList;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/UserInfo.css\";\r\n\r\nclass UserInfo extends Component {\r\n  onClickFollowing = (event) => {\r\n    console.log(\"looking for followers\");\r\n    const checkEmpty = event.target.innerHTML.toString();\r\n\r\n    if (checkEmpty !== \"0\") {\r\n      this.props.onClickFollowing();\r\n    } else {\r\n      console.log(\"you didn't follow anyone yet\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const user = this.props.user;\r\n\r\n    return (\r\n      <div className=\"user-info\">\r\n        <div className=\"user-avatar\">\r\n          <img src={user.avatar} className=\"left-section-img\" alt=\"\" />\r\n        </div>\r\n        <div className=\"user-following\">\r\n          Following:{\" \"}\r\n          <p onClick={this.onClickFollowing}>\r\n            {user.following.length !== 0 ? user.following.length : 0}\r\n          </p>\r\n        </div>\r\n        <div className=\"user-joined\">\r\n          Joined: {new Date(user.createdAt).toDateString().slice(10)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserInfo;\r\n","import React, { Component } from \"react\";\r\nimport UserList from \"../components/UserList.js\";\r\nimport \"../components/LeftSidebar.css\";\r\nimport UserInfo from \"../components/UserInfo.js\";\r\n\r\nclass LeftSidebar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"left-sidebar\">\r\n        <div className=\"left-section-user-panel\">\r\n          <UserInfo\r\n            user={this.props.user}\r\n            onClickFollowing={this.props.onClickFollowing}\r\n          />\r\n        </div>\r\n        <div className=\"left-section-list\">\r\n          <div className=\"left-section-list-header\">Your lists</div>\r\n          <UserList\r\n            lists={this.props.lists}\r\n            onClickListItem={this.props.onClickListItem}\r\n            onDeleteBookFromList={this.props.onDeleteBookFromList}\r\n            onAddList={this.props.onAddList}\r\n            onDeleteList={this.props.onDeleteList}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeftSidebar;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  inputChange = (event) => {\r\n    this.setState({ searchQuery: event.target.value });\r\n  };\r\n\r\n  inputClick = () => {\r\n    //const isbn = this.state.searchQuery;\r\n    const query = this.state.searchQuery.replace(/\\s/g, \"+\");\r\n\r\n    //reset result list in LoggedIn.js:\r\n    this.props.updateSearchResults(\"\", \"reset\");\r\n\r\n    // check for ISBN-13 format\r\n    if (query.length === 13 && query.charAt(0) === \"9\") {\r\n      //console.log(\"isbn: \", query);\r\n      let isbn = query;\r\n\r\n      // make an API call and pass returned JSON and 'isbn' to parent 'Dashboard'\r\n      axios\r\n        .get(\r\n          `https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&jscmd=data&format=json`\r\n        )\r\n        .then((bookJSON) => {\r\n          this.props.updateSearchResults(bookJSON, isbn);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error calling axios at inputClick: \", error);\r\n        });\r\n      // check for text input:\r\n    } else {\r\n      //console.log(query);\r\n      axios\r\n        .get(`https://openlibrary.org/search.json?title=${query}`)\r\n        .then((booksJSON) => {\r\n          const onlyFiveISBN = booksJSON.data.docs\r\n            .slice(0, 3)\r\n            .map((book) =>\r\n              book.isbn.find((number) => number.toString().length === 13)\r\n            );\r\n\r\n          if (onlyFiveISBN.length === 0) {\r\n            console.log(\"Cannot find books\");\r\n          } else {\r\n            for (let isbn of onlyFiveISBN) {\r\n              //console.log(isbn);\r\n              axios\r\n                .get(\r\n                  `https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&jscmd=data&format=json`\r\n                )\r\n                .then((bookJSON) => {\r\n                  //console.log(bookJSON.data);\r\n                  this.props.updateSearchResults(bookJSON, isbn);\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"Error calling axios at inputClick: \", error);\r\n                });\r\n            }\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error axios call: \", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form>\r\n        <input type=\"text\" name=\"isbn\" onChange={this.inputChange} />\r\n        <input type=\"button\" onClick={this.inputClick} value=\"Get book\" />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/BookCard.css\";\r\nimport axios from \"axios\";\r\n\r\nclass BookCard extends Component {\r\n  state = {\r\n    activeAdd: false,\r\n    activeShare: false,\r\n    comment: \"\",\r\n    friend: \"\",\r\n  };\r\n\r\n  onClickAdd = () => {\r\n    if (this.props.lists.length !== 0) {\r\n      this.setState({\r\n        activeAdd: !this.state.activeAdd,\r\n        activeShare: false,\r\n      });\r\n    } else {\r\n      console.log(\"Create a list first\");\r\n    }\r\n  };\r\n\r\n  onClickSave = (event) => {\r\n    console.log(event.target.innerHTML, this.props.book.title);\r\n    this.props.onSaveToList(event.target.innerHTML, this.props.book.title);\r\n  };\r\n\r\n  onClickShare = (event) => {\r\n    console.log(this.props.book);\r\n\r\n    axios\r\n      .post(\"/saveBookWhenClickShare\", { book: this.props.book })\r\n      .then((response) => {\r\n        this.setState({\r\n          activeShare: !this.state.activeShare,\r\n          activeAdd: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"frontend: error at saveBookWhenClickShare: \", error);\r\n      });\r\n  };\r\n\r\n  onCommentInputChange = (event) => {\r\n    console.log(event.target.value);\r\n    this.setState({ comment: event.target.value });\r\n  };\r\n\r\n  onFriendInputChange = (event) => {\r\n    console.log(event.target.value);\r\n    this.setState({ friend: event.target.value });\r\n  };\r\n\r\n  onClickSend = () => {\r\n    console.log(this.state.comment, this.state.friend, this.props.book.title);\r\n\r\n    this.props.onClickShareBook(\r\n      this.state.comment,\r\n      this.state.friend,\r\n      this.props.book.title\r\n    );\r\n    document.getElementById(\"commentInput\").value = \"\";\r\n    document.getElementById(\"friendInput\").value = \"\";\r\n    this.setState({ comment: \"\", friend: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const userLists = this.props.lists.map((list) => {\r\n      if (list.name === \"Special\") {\r\n        return null;\r\n      } else {\r\n        return (\r\n          <button\r\n            type=\"button\"\r\n            className=\"addToListButton\"\r\n            key={list.name}\r\n            onClick={this.onClickSave}\r\n          >\r\n            {list.name}\r\n          </button>\r\n        );\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"allBooksFromSearchResultsThree\">\r\n        <div className=\"bookInSearchResultsList\">\r\n          <div className=\"imageBookSearchResult\">\r\n            {this.props.book.cover.medium !== undefined ? (\r\n              <img\r\n                src={this.props.book.cover.medium} // error when no cover available\r\n                alt=\"\"\r\n              />\r\n            ) : null}\r\n\r\n            {this.props.book.suggestedBy !== undefined ? (\r\n              <div>\r\n                <div className=\"specialClip\">\r\n                  <p className=\"specialFriend\">{this.props.book.suggestedBy}</p>\r\n                </div>\r\n                <div className=\"specialComment\">\r\n                  {this.props.book.comments[0]}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"contentBookSearchResult\">\r\n            <div className=\"infoBookSearchResult\">\r\n              <p>Title: {this.props.book.title}</p>\r\n              <p>Author: {this.props.book.by}</p>\r\n              <p>Published: {this.props.book.year}</p>\r\n              <p>ISBN: {this.props.book.isbn}</p>\r\n\r\n              <a href={this.props.book.url}>Details</a>\r\n            </div>\r\n            {this.props.book.suggestedBy !== undefined ? null : (\r\n              <div className=\"buttonsBookSearchResult\">\r\n                <input\r\n                  className=\"addButton\"\r\n                  type=\"button\"\r\n                  onClick={this.onClickAdd}\r\n                  value=\"Add to List\"\r\n                  name={this.props.book.title}\r\n                />\r\n                <input\r\n                  className=\"shareButton\"\r\n                  type=\"button\"\r\n                  onClick={this.onClickShare}\r\n                  value=\"Share\"\r\n                  name={this.props.book.title}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.activeAdd === true ? (\r\n          <div className=\"chooseListToAddTo\">{userLists}</div>\r\n        ) : null}\r\n\r\n        {this.state.activeShare === true ? (\r\n          <div className=\"chooseShareInfo\">\r\n            <form>\r\n              <input\r\n                id=\"commentInput\"\r\n                className=\"commentInput\"\r\n                type=\"text\"\r\n                placeholder=\"Comment ...\"\r\n                onChange={this.onCommentInputChange}\r\n                required\r\n              />\r\n              <input\r\n                id=\"friendInput\"\r\n                className=\"friendInput\"\r\n                type=\"text\"\r\n                placeholder=\"User ...\"\r\n                onChange={this.onFriendInputChange}\r\n                required\r\n              />\r\n              <input\r\n                className=\"shareSendButton\"\r\n                type=\"button\"\r\n                value=\"Send\"\r\n                onClick={this.onClickSend}\r\n              />\r\n            </form>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookCard;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/FollowerCard.css\";\r\n\r\nclass FollowerCard extends Component {\r\n  onClickRemoveFollower = (event) => {\r\n    console.log(event.target.getAttribute(\"follower\"));\r\n    this.props.onClickRemoveFollower(event.target.getAttribute(\"follower\"));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"followerWrapper\">\r\n        <div className=\"followerAvatar\">\r\n          <img src={this.props.user.avatar} alt=\"\" />\r\n          <img\r\n            src=\"/images/delete-icon.png\"\r\n            id=\"removeFollower\"\r\n            onClick={this.onClickRemoveFollower}\r\n            follower={this.props.user.username}\r\n            alt=\"delete-icon\"\r\n          />\r\n        </div>\r\n        <div className=\"followerUsername\">{this.props.user.username}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FollowerCard;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/SearchResults.css\";\r\nimport BookCard from \"../components/BookCard.js\";\r\nimport FollowerCard from \"../components/FollowerCard.js\";\r\n\r\nclass SearchResults extends Component {\r\n  render() {\r\n    console.log(this.props.searchResults);\r\n    const searchResultsList = this.props.searchResults.map((book) => {\r\n      if (book.avatar === undefined) {\r\n        return (\r\n          <div className=\"bookCard-wrapper\" key={book.isbn}>\r\n            <BookCard\r\n              book={book}\r\n              lists={this.props.lists}\r\n              onSaveToList={this.props.onSaveToList}\r\n              onClickShareBook={this.props.onClickShareBook}\r\n            />\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div key={book.username}>\r\n            <FollowerCard\r\n              user={book}\r\n              onClickRemoveFollower={this.props.onClickRemoveFollower}\r\n            />\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n\r\n    return searchResultsList.length === 0 ? (\r\n      <div className=\"allBooksFromSearchResultsOne\">\r\n        <p>Grab a book</p>\r\n        <img src=\"/images/pulse.gif\" alt=\"pulse-ani\" />\r\n      </div>\r\n    ) : (\r\n      <div className=\"allBooksFromSearchResultsTwo\">{searchResultsList}</div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchResults;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/Dashboard.css\";\r\nimport SearchBar from \"../components/SearchBar.js\";\r\nimport SearchResults from \"../components/SearchResults.js\";\r\n\r\nclass Dashboard extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"dashboard\">\r\n        <div className=\"dashboard-search\">\r\n          <SearchBar updateSearchResults={this.props.updateSearchResults} />\r\n        </div>\r\n        <div className=\"dashboard-result\">\r\n          <SearchResults\r\n            searchResults={this.props.searchResults}\r\n            onSaveToList={this.props.onSaveToList}\r\n            onClickShareBook={this.props.onClickShareBook}\r\n            lists={this.props.lists}\r\n            onClickRemoveFollower={this.props.onClickRemoveFollower}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/SuggestedBooks.css\";\r\n\r\nclass SuggestedBooks extends Component {\r\n  state = {\r\n    index: 0,\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    console.log(\"Mounted suggestions\");\r\n  };\r\n\r\n  acceptSuggestion = (event) => {\r\n    console.log(\"accept suggested book\");\r\n\r\n    this.props.acceptSuggestion(\r\n      event.target.getAttribute(\"title\"),\r\n      event.target.getAttribute(\"suggestedby\"),\r\n      event.target.getAttribute(\"comment\")\r\n    );\r\n  };\r\n\r\n  rejectSuggestion = (event) => {\r\n    console.log(\"Title: \", event.target.getAttribute(\"title\"));\r\n    console.log(\"By: \", event.target.getAttribute(\"suggestedby\"));\r\n    console.log(\"Comment: \", event.target.getAttribute(\"comment\"));\r\n\r\n    this.props.rejectSuggestion(\r\n      event.target.getAttribute(\"title\"),\r\n      event.target.getAttribute(\"suggestedby\"),\r\n      event.target.getAttribute(\"comment\")\r\n    );\r\n\r\n    this.setState({ index: 0 });\r\n  };\r\n\r\n  slideBack = () => {\r\n    if (this.state.index === 0) {\r\n      console.log(\"this is the first item\");\r\n    } else {\r\n      this.setState({ index: this.state.index - 1 });\r\n    }\r\n  };\r\n\r\n  slideForward = () => {\r\n    if (this.state.index === this.props.suggestedList.length - 1) {\r\n      console.log(\"this is the last item\");\r\n    } else {\r\n      this.setState({ index: this.state.index + 1 });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const suggestedList = this.props.suggestedList.map((suggestedBook) => {\r\n      return (\r\n        <div className=\"bookInSuggestedList\">\r\n          <div className=\"suggestedImage\">\r\n            <img src={suggestedBook.cover.medium} alt=\"\" />\r\n            <img\r\n              src=\"/images/arrow-left.png\"\r\n              className=\"previous\"\r\n              onClick={this.slideBack}\r\n              alt=\"\"\r\n            />\r\n            <img\r\n              src=\"/images/arrow-right.png\"\r\n              className=\"next\"\r\n              onClick={this.slideForward}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"suggestedInfo\">\r\n            <div className=\"suggestedBy\">\r\n              {suggestedBook.suggestedBy} comments:\r\n            </div>\r\n            <div className=\"suggestedComment\">\"{suggestedBook.comment}\"</div>\r\n          </div>\r\n          <div className=\"suggestedAction\">\r\n            <img\r\n              src=\"/images/checked.png\"\r\n              alt=\"\"\r\n              className=\"suggestedAccept\"\r\n              title={suggestedBook.title}\r\n              suggestedby={suggestedBook.suggestedBy}\r\n              comment={suggestedBook.comment}\r\n              onClick={this.acceptSuggestion}\r\n            />\r\n            <img\r\n              src=\"/images/cancel.png\"\r\n              alt=\"\"\r\n              className=\"suggestedDecline\"\r\n              title={suggestedBook.title}\r\n              suggestedby={suggestedBook.suggestedBy}\r\n              comment={suggestedBook.comment}\r\n              onClick={this.rejectSuggestion}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <div className=\"suggestionWrapper\">\r\n        {this.props.suggestedList.length === 0 ? (\r\n          <div className=\"suggestedListWrapper\">\r\n            <div className=\"suggestedNoBooks\">Some ideas will arrive soon!</div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"suggestedListWrapper\">\r\n            <div className=\"suggestedHeader\">\r\n              <div className=\"suggestedCounter\">\r\n                {this.props.suggestedList.length}\r\n              </div>\r\n              <div className=\"suggestedHeaderText\">new suggestions</div>\r\n            </div>\r\n            {suggestedList[this.state.index]}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SuggestedBooks;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Users.css\";\r\n\r\nclass Users extends Component {\r\n  state = {\r\n    users: [],\r\n    loggedIn: this.props.user,\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios.get(\"/users\").then((res) => {\r\n      //   console.log(\"Response:\", res.data);\r\n      this.setState({\r\n        users: res.data.users,\r\n      });\r\n    });\r\n  }\r\n\r\n  followUser = (userId) => {\r\n    console.log(\"UserId\", userId);\r\n    axios.post(`/follow/${userId}`).then((res) => {\r\n      //   console.log(\"Response:\", res.data);\r\n      this.props.setUser(res.data);\r\n      this.setState({\r\n        loggedIn: res.data,\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    //console.log(this.state.loggedIn, this.props.user);\r\n    const filterUsers = this.state.users\r\n      .filter((user) => {\r\n        return (\r\n          !this.state.loggedIn.following.includes(user._id) &&\r\n          user.username.toLowerCase().includes(this.props.query.toLowerCase())\r\n        );\r\n      })\r\n      .slice(0, 5);\r\n\r\n    const usersList = filterUsers.map((user) => {\r\n      // console.log(\"User list:\", user);\r\n      return (\r\n        <div key={user._id} className=\"follower-group\">\r\n          <div className=\"add-follower-div-img\">\r\n            <img\r\n              src=\"/images/plus-icon.png\"\r\n              alt=\"plus-icon\"\r\n              className=\"add-follower-img\"\r\n              onClick={() => this.followUser(user._id)}\r\n            />\r\n          </div>\r\n          {user.username.charAt(0).toUpperCase() +\r\n            user.username.slice(1).toLowerCase()}\r\n        </div>\r\n      );\r\n    });\r\n\r\n    // console.log(this.props);\r\n    return <div>{usersList}</div>;\r\n  }\r\n}\r\n\r\nexport default Users;\r\n","import React, { Component } from \"react\";\r\nimport Users from \"./Users\";\r\nimport \"../components/SuggestedUsers.css\";\r\n\r\nclass SuggestedUsers extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  setQuery = (query) => {\r\n    this.setState({\r\n      query: query,\r\n    });\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    this.setQuery(event.target.value);\r\n  };\r\n\r\n  render() {\r\n    // console.log(\"Suggested Users\", this.props.user);\r\n    return (\r\n      <div className=\"follower-section\">\r\n        <div className=\"follower-section-header\">Follow</div>\r\n        <div className=\"follower-section-input\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"follow\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </div>\r\n        <Users\r\n          user={this.props.user}\r\n          setUser={this.props.setUser}\r\n          query={this.state.query}\r\n          triggerSetQuery={this.setQuery}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SuggestedUsers;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/RandomBooks.css\";\r\nimport axios from \"axios\";\r\n\r\nclass RandomBooks extends Component {\r\n  refreshRandomList = (event) => {\r\n    //console.log(event.target.getAttribute(\"title\"));\r\n    this.props.updateSearchResults(\"\", \"reset\");\r\n\r\n    const bookISBNArr = event.target.getAttribute(\"isbn\");\r\n    const isbn = bookISBNArr\r\n      .split(\",\")\r\n      .find((number) => number.toString().length === 13);\r\n\r\n    // make an API call and pass returned JSON and 'isbn' to parent 'Dashboard'\r\n    axios\r\n      .get(\r\n        `https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&jscmd=data&format=json`\r\n      )\r\n      .then((bookJSON) => {\r\n        this.props.updateSearchResults(bookJSON, isbn);\r\n        this.props.refreshRandomList(bookJSON.data[`ISBN:${isbn}`].title);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error calling axios at refreshRandomList: \", error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const randomList = this.props.randomList.slice(0, 3).map((book) => {\r\n      return (\r\n        <p\r\n          key={book.isbn}\r\n          className=\"randomBook\"\r\n          onClick={this.refreshRandomList}\r\n          title={book.title}\r\n          isbn={book.isbn}\r\n        >\r\n          {book.title}\r\n        </p>\r\n      );\r\n    });\r\n    return (\r\n      <div className=\"randomBookTile\">\r\n        <div className=\"randomFeature\">\r\n          <p>Featured: Michael Lewis</p>\r\n        </div>\r\n        <div className=\"randomBookList\">\r\n          <div className=\"randomThreeBooks\">{randomList}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RandomBooks;\r\n","import React, { Component } from \"react\";\r\nimport \"../components/RightSidebar.css\";\r\nimport SuggestedBooks from \"../components/SuggestedBooks.js\";\r\nimport SuggestedUsers from \"../components/SuggestedUsers\";\r\nimport RandomBooks from \"./RandomBooks\";\r\n\r\nclass RightSidebar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"right-sidebar\">\r\n        <div className=\"right-section\">\r\n          <SuggestedBooks\r\n            suggestedList={this.props.suggestedList}\r\n            rejectSuggestion={this.props.rejectSuggestion}\r\n            acceptSuggestion={this.props.acceptSuggestion}\r\n          />\r\n        </div>\r\n        <div className=\"random-section\">\r\n          <RandomBooks\r\n            randomList={this.props.randomList}\r\n            refreshRandomList={this.props.refreshRandomList}\r\n            updateSearchResults={this.props.updateSearchResults}\r\n          />\r\n        </div>\r\n        <div className=\"follow-title\">\r\n          <SuggestedUsers user={this.props.user} setUser={this.props.setUser} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RightSidebar;\r\n","import React, { Component } from \"react\";\r\nimport LeftSidebar from \"../components/LeftSidebar.js\";\r\nimport Dashboard from \"../components/Dashboard.js\";\r\nimport RightSidebar from \"../components/RightSidebar.js\";\r\nimport axios from \"axios\";\r\nimport \"../components/LoggedIn.css\";\r\nimport randomJSON from \"../components/demo/random.json\";\r\n\r\nclass LoggedIn extends Component {\r\n  state = {\r\n    searchResults: [],\r\n    lists: [],\r\n    suggestedList: [],\r\n    randomList: [],\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    console.log(\"Mounting and getting lists from database\");\r\n    this.booksFromFollowersList();\r\n    this.getListsFromDb();\r\n    this.getSuggestedBooksFromDb();\r\n    this.getRandomList();\r\n  };\r\n\r\n  componentWillReceiveProps = (nextProps) => {\r\n    console.log(nextProps.user, this.props.user);\r\n    if (\r\n      JSON.stringify(nextProps.user.following) !==\r\n      JSON.stringify(this.props.user)\r\n    ) {\r\n      this.booksFromFollowersList();\r\n    }\r\n  };\r\n\r\n  refreshRandomList = (bookTitle) => {\r\n    this.setState({\r\n      randomList: [...this.state.randomList].filter(\r\n        (book) => book.title !== bookTitle\r\n      ),\r\n    });\r\n  };\r\n\r\n  getRandomList = () => {\r\n    console.log(\"get RandomBooks: \", randomJSON.docs);\r\n    this.setState({ randomList: randomJSON.docs });\r\n\r\n    // axios\r\n    //   .get(\"http://openlibrary.org/search.json?author=michael+lewis\")\r\n    //   .then((getRandomBooks) => {\r\n    //     let length = getRandomBooks.data.docs.length;\r\n    //     let min = Math.floor(Math.random() * (length - 3));\r\n    //     let max = min + 3;\r\n\r\n    //     console.log(min);\r\n    //     console.log(max);\r\n\r\n    //     const onlyThreeISBN = getRandomBooks.data.docs\r\n    //       .slice(min, max)\r\n    //       .map((book) =>\r\n    //         book.isbn.find((number) => number.toString().length === 13)\r\n    //       );\r\n\r\n    //     for (let isbn of onlyThreeISBN) {\r\n    //       console.log(isbn);\r\n    //       axios\r\n    //         .get(\r\n    //           `https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&jscmd=data&format=json`\r\n    //         )\r\n    //         .then((bookJSON) => {\r\n    //           console.log(bookJSON.data);\r\n    //           this.setState({\r\n    //             randomList: [\r\n    //               ...this.state.randomList,\r\n    //               {\r\n    //                 isbn: isbn,\r\n    //                 title: bookJSON.data[`ISBN:${isbn}`].title,\r\n    //               },\r\n    //             ],\r\n    //           });\r\n    //         })\r\n    //         .catch((error) => {\r\n    //           console.log(\"Error calling axios at isbn search: \", error);\r\n    //         });\r\n    //     }\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     console.log(\"error axios call: \", error);\r\n    //   });\r\n  };\r\n\r\n  booksFromFollowersList = () => {\r\n    axios.get(\"/followers/getbooks\").then((listOfBooks) => {\r\n      // console.log(\"Front end books list\", listOfBooks.data.booksFromFollowers);\r\n      // this.state.searchResults.push(listOfBooks.data.booksFromFollowers);\r\n      this.setState({\r\n        searchResults: listOfBooks.data.booksFromFollowers,\r\n      });\r\n    });\r\n  };\r\n\r\n  getListsFromDb = () => {\r\n    axios\r\n      .get(\"/dashboard/getUserList\")\r\n      .then((listsOfUser) => {\r\n        //console.log(\"Success getting lists from database: \", listsOfUser);\r\n        let listDataOfUser = listsOfUser.data;\r\n        //console.log(listDataOfUser);\r\n        this.setState({ lists: listDataOfUser });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting lists from database: \", error);\r\n      });\r\n  };\r\n\r\n  onAddList = (newList) => {\r\n    //console.log(\"new list name: \", newList);\r\n\r\n    axios\r\n      .post(\"/addList\", { name: newList })\r\n      .then((response) => {\r\n        // response == \"done\" from backend\r\n        //console.log(\"frontend: list added\");\r\n        this.getListsFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error adding list: \", error);\r\n      });\r\n  };\r\n\r\n  getSuggestedBooksFromDb = () => {\r\n    console.log(\"getting suggested books now\");\r\n    axios\r\n      .get(\"/getSuggestedBooksList\")\r\n      .then((response) => {\r\n        let listDataOfSuggestedBooks = response.data;\r\n        //console.log(\"here now\", listDataOfSuggestedBooks);\r\n        this.setState({ suggestedList: listDataOfSuggestedBooks });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error getting suggested books: \", error);\r\n      });\r\n  };\r\n\r\n  acceptSuggestion = (title, suggestedBy, comment) => {\r\n    console.log(\"accept: \", title, suggestedBy, comment);\r\n\r\n    axios\r\n      .post(\"/acceptSuggestion\", {\r\n        title: title,\r\n        suggestedBy: suggestedBy,\r\n        comment: comment,\r\n      })\r\n      .then((response) => {\r\n        console.log(\"frontend: added new fav: \", response);\r\n        this.getListsFromDb();\r\n        this.getSuggestedBooksFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"frontend: error adding fav: \", error);\r\n      });\r\n  };\r\n\r\n  rejectSuggestion = (title, suggestedBy, comment) => {\r\n    console.log(\"rejecting suggestion now\");\r\n    console.log(\"Title: \", title);\r\n    console.log(\"By: \", suggestedBy);\r\n    console.log(\"Comment: \", comment);\r\n\r\n    axios\r\n      .post(\"/rejectSuggestion\", {\r\n        title: title,\r\n        suggestedBy: suggestedBy,\r\n        comment: comment,\r\n      })\r\n      .then((response) => {\r\n        console.log(\"frontend: suggestion rejected successfully\", response);\r\n        this.getSuggestedBooksFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at rejecting suggestion: \", error);\r\n      });\r\n  };\r\n\r\n  updateSearchResults = (bookJSON, isbn) => {\r\n    if (isbn === \"reset\") {\r\n      this.setState({ searchResults: [] });\r\n    } else {\r\n      //console.log(bookJSON.data[`ISBN:${isbn}`].cover.medium);\r\n      console.log(bookJSON.data[`ISBN:${isbn}`][\"by_statement\"]);\r\n      let coverCheck = { medium: \"\" };\r\n\r\n      if (bookJSON.data[`ISBN:${isbn}`].cover !== undefined) {\r\n        coverCheck = bookJSON.data[`ISBN:${isbn}`].cover;\r\n      } else {\r\n        coverCheck = {\r\n          medium: \"/images/no-img.png\",\r\n        };\r\n      }\r\n\r\n      console.log(coverCheck);\r\n\r\n      this.setState({\r\n        // correct way to push into state property array: instead of '.push' using spread operator\r\n        searchResults: [\r\n          ...this.state.searchResults,\r\n          {\r\n            isbn: isbn,\r\n            title: bookJSON.data[`ISBN:${isbn}`].title,\r\n            cover: coverCheck,\r\n            by: bookJSON.data[`ISBN:${isbn}`][\"by_statement\"],\r\n            year: bookJSON.data[`ISBN:${isbn}`][\"publish_date\"],\r\n            url: bookJSON.data[`ISBN:${isbn}`].url,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  };\r\n\r\n  onClickFollowing = () => {\r\n    axios\r\n      .post(\"/getFollowers\")\r\n      .then((response) => {\r\n        //console.log(response);\r\n        const followersFromDb = response.data;\r\n        console.log(\"got this followers from database: \", followersFromDb);\r\n        this.setState({\r\n          //searchResults: [...this.state.searchResults, ...bookFromDb], **works\r\n          searchResults: followersFromDb,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at onClickFollowing: \", error);\r\n      });\r\n  };\r\n\r\n  onSaveToList = (listName, bookTitle) => {\r\n    //console.log(\"from LoggedIn component\");\r\n    console.log(\"frontend: book title: \", bookTitle);\r\n    console.log(\"frontend: list name: \", listName);\r\n\r\n    console.log(this.state.searchResults);\r\n\r\n    const bookToList = this.state.searchResults.find((book) => {\r\n      return book.title === bookTitle;\r\n    });\r\n\r\n    console.log(\"frontend: book to save: \", bookToList);\r\n\r\n    // maybe remove from state after saving to list with '.then'\r\n    axios\r\n      .post(\"/dashboard/saveToList\", { book: bookToList, list: listName })\r\n      .then((flag) => {\r\n        //console.log(\"updating list: \", flag);\r\n        this.getListsFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at onSaveToList: \", error);\r\n      });\r\n  };\r\n\r\n  onClickListItem = (bookTitle, listName) => {\r\n    console.log(listName);\r\n    //console.log(\"In LoggedIn component, book title: \", bookTitle);\r\n    // .post needed somehow, .get doesn't work for passing variable\r\n\r\n    if (listName !== \"Special\") {\r\n      axios\r\n        .post(\"/getBook\", { title: bookTitle })\r\n        .then((response) => {\r\n          //console.log(response);\r\n          const bookFromDb = response.data;\r\n          console.log(\"got this book from database: \", bookFromDb);\r\n          this.setState({\r\n            //searchResults: [...this.state.searchResults, ...bookFromDb], **works\r\n            searchResults: bookFromDb,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error at onClickListItem: \", error);\r\n        });\r\n    } else {\r\n      axios\r\n        .post(\"/getSpecialBook\", { title: bookTitle })\r\n        .then((response) => {\r\n          //console.log(response);\r\n          const bookFromDb = response.data;\r\n          console.log(\"got this book from database: \", bookFromDb);\r\n          this.setState({\r\n            //searchResults: [...this.state.searchResults, ...bookFromDb], **works\r\n            searchResults: bookFromDb,\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Error at onClickListItem: \", error);\r\n        });\r\n    }\r\n  };\r\n\r\n  onShareBook = (comment, friend, bookTitle) => {\r\n    //console.log(\"book to share: \", bookTitle);\r\n    axios\r\n      .post(\"/shareBook\", {\r\n        title: bookTitle,\r\n        friend: friend,\r\n        comment: comment,\r\n      })\r\n      .then((response) => {\r\n        console.log(\"response from backend: \", response.data);\r\n        if (response.data === \"Success\") {\r\n          console.log(\"Book shared successfully!\");\r\n        } else if (response.data === \"Failure\") {\r\n          console.log(\"User not found\");\r\n        } else {\r\n          console.log(\"Unexpected error sharing book\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at sharing book: \", error);\r\n      });\r\n  };\r\n\r\n  onDeleteBookFromList = (bookTitle, listName) => {\r\n    axios\r\n      .post(\"/deleteBookFromList\", { book: bookTitle, list: listName })\r\n      .then((response) => {\r\n        console.log(\"frontend: removed book from list\");\r\n        this.getListsFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at deleting book: \", error);\r\n      });\r\n  };\r\n\r\n  onDeleteList = (delList) => {\r\n    axios\r\n      .post(\"/deleteList\", { name: delList })\r\n      .then((response) => {\r\n        // response == \"done\" from backend\r\n        //console.log(\"frontend: list added\");\r\n        this.getListsFromDb();\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error adding list: \", error);\r\n      });\r\n  };\r\n\r\n  onClickRemoveFollower = (followerName) => {\r\n    axios\r\n      .post(\"/removeFollower\", { name: followerName })\r\n      .then((response) => {\r\n        console.log(\"test\");\r\n        // please God forgive me for this because of presentation deadline (RIP Phillip's honor):\r\n        //window.location.reload(true);\r\n        console.log(\"here right now: \", response.data);\r\n        this.props.setUser(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error at removing follower: \", error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"loggedin-main-div\">\r\n        <div className=\"main-wrapper\">\r\n          <LeftSidebar\r\n            lists={this.state.lists}\r\n            onClickListItem={this.onClickListItem}\r\n            onDeleteBookFromList={this.onDeleteBookFromList}\r\n            onAddList={this.onAddList}\r\n            user={this.props.user}\r\n            setUser={this.props.setUser}\r\n            onDeleteList={this.onDeleteList}\r\n            onClickFollowing={this.onClickFollowing}\r\n          />\r\n\r\n          <Dashboard\r\n            searchResults={this.state.searchResults}\r\n            updateSearchResults={this.updateSearchResults}\r\n            onSaveToList={this.onSaveToList}\r\n            onClickShareBook={this.onShareBook}\r\n            lists={this.state.lists}\r\n            onClickRemoveFollower={this.onClickRemoveFollower}\r\n          />\r\n\r\n          <RightSidebar\r\n            user={this.props.user}\r\n            setUser={this.props.setUser}\r\n            suggestedList={this.state.suggestedList}\r\n            rejectSuggestion={this.rejectSuggestion}\r\n            acceptSuggestion={this.acceptSuggestion}\r\n            randomList={this.state.randomList}\r\n            refreshRandomList={this.refreshRandomList}\r\n            updateSearchResults={this.updateSearchResults}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoggedIn;\r\n","import React, { Component } from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport Signup from \"./components/Signup\";\r\nimport Login from \"./components/Login\";\r\nimport LoggedIn from \"./components/LoggedIn.js\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    user: this.props.user,\r\n  };\r\n\r\n  setUser = (user) => {\r\n    console.log(\"appjs User: \", user);\r\n    this.setState({\r\n      user: user,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Navbar user={this.state.user} setUser={this.setUser} />\r\n        <Route\r\n          exact\r\n          path=\"/signup\"\r\n          render={(props) => <Signup setUser={this.setUser} {...props} />}\r\n        />\r\n        {/* <Route\r\n          exact\r\n          path=\"/login\"\r\n          render={(props) => <Login setUser={this.setUser} {...props} />}\r\n        /> */}\r\n\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={(props) => {\r\n            return this.state.user ? (\r\n              <LoggedIn user={this.state.user} setUser={this.setUser} />\r\n            ) : (\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={(props) => <Login setUser={this.setUser} {...props} />}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport axios from \"axios\";\r\n\r\n// passing the logged user as a prop\r\naxios.get(\"/api/auth/loggedin\").then((response) => {\r\n  const user = response.data;\r\n  ReactDOM.render(\r\n    <BrowserRouter>\r\n      <App user={user} />\r\n    </BrowserRouter>,\r\n    document.getElementById(\"root\")\r\n  );\r\n});\r\n\r\n// TESTING Dashboard:\r\n//ReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}